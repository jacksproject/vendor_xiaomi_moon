<?xml version="1.0" encoding="utf-8"?>

<!-- Morpho Image Refiner Parameters Configuration -->
<!-- Copyright(c) 2021 Morpho China,Inc.  -->

<image_refiner>
	<version   type="string" length="1">v1.0.3_N19A_hdr_main_ii_20240530</version>
	<camera_id type="int"    length="1">1</camera_id>
	
    <params>

        <iso value="100">
			<y_nr_level       			type="float"  rang="[0.0,100.0]"  default="10.0"  length="1">0.0</y_nr_level>
			<c_nr_level       			type="float"  rang="[0.0,10.0]"   default="1.0"   length="1">0</c_nr_level>
			<c_nr_times       			type="int"    rang="[1,6]"        default="1"     length="1">0</c_nr_times>
			<block_cnr        			type="int"    rang="[1,6]"        default="1"     length="1">0</block_cnr>

			<hdr_obc       		  		type="double" rang="[0.0,10.0]"   default="1.2"   length="1">1.5</hdr_obc>
			<hdr_obc_thres       		type="double" rang="[0.0,1.0]"    default="0.2"   length="1">0.8</hdr_obc_thres>
			<hdr_irr_obc_thres      	type="double" rang="[0.0,1.0]"    default="0.2"   length="1">0.2</hdr_irr_obc_thres>
			<deghost_over_exposure_rate_thres       type="double" rang="[0.0,1.0]"    default="0.006"   length="1">0.0008</deghost_over_exposure_rate_thres>

			<lce       		  			type="double" rang="[0.0,1024]"   default="0"     length="1">300</lce>
			<low_freq_lce              	type="double" rang="[0.0,2048]"   default="1"     length="1">800</low_freq_lce>
			<high_freq_lce              type="double" rang="[0.0,100]"    default="2"     length="1">1.0</high_freq_lce>    

            <contrast                   type="double" rang="[0.0,1.0]"    default="0"     length="1">0.0</contrast>
			<lb_contrast      			type="int"    rang="[0, 1.0]"     default="0"     length="1">0.002</lb_contrast>
			<hb_contrast      			type="int"    rang="[0, 1.0]"     default="0"     length="1">0.002</hb_contrast>
			<face_lb_contrast    		type="int"    rang="[0, 1.0]"     default="0"     length="1">0.004</face_lb_contrast>
			<face_hb_contrast      		type="int"    rang="[0, 1.0]"     default="0"     length="1">0.002</face_hb_contrast>

			<do_unsharp       			type="int"    rang="[0, 4095]"    default="900"   length="1">0</do_unsharp>
			<do_unsharp_nr_level        type="double"  rang="[0.0,100.0]" default="0"     length="1">0</do_unsharp_nr_level>
			<unsharp_sigma_width    	type="double" rang="[0.0,10.0]"   default="0.9"   length="1">0.9</unsharp_sigma_width>
			<unsharp_sigma_narrow   	type="double" rang="[0.0,10.0]"   default="0.4"   length="1">0.4</unsharp_sigma_narrow>

			<lb_exposure      			type="int"    rang="[0.0,255.0]"  default="0"     length="1">140</lb_exposure>
			<hb_exposure      			type="int"    rang="[0.0,255.0]"  default="0"     length="1">180</hb_exposure>
			<dark_lb_exposure           ype="int"     rang="[0.0,255.0]"  default="0"     length="1">53</dark_lb_exposure>
            <dark_hb_exposure           type="int"    rang="[0.0,255.0]"  default="0"     length="1">80</dark_hb_exposure>
			<face_lb_exposure      		type="double" rang="[0.0,255.0]"  default="10"    length="1">180</face_lb_exposure>
            <face_hb_exposure      		type="double" rang="[0.0,255.0]"  default="130"   length="1">230</face_hb_exposure>
			<enable_face_ev             type="int"    rang="[0, 1]"       default="0"     length="1">1</enable_face_ev>
			<enable_shrink_face_protection>1</enable_shrink_face_protection>
			<internal_shrink_ratio type="double" rang="[1.0,1.5]" default="1.5" length="1">1.0</internal_shrink_ratio>
		</iso>

		 <iso value="300">
			<y_nr_level       			type="float"  rang="[0.0,100.0]"  default="10.0"  length="1">0.0</y_nr_level>
			<y_nr_tables       			type="float"  rang="[0.0,100.0]"  default="10.0"  length="44">
			        0 50   0  0   0   0 0 0 0 0 0     
                    0 256  0  0   0   0 0 0 0 0 0       
                    0 256  0  0   0   0 0 0 0 0 0  
					0 256  0  0   0  0 0 0 0 0 0 
			</y_nr_tables>	
			<c_nr_level       			type="float"  rang="[0.0,10.0]"   default="1.0"   length="1">1</c_nr_level>
			<c_nr_times       			type="int"    rang="[1,6]"        default="1"     length="1">1</c_nr_times>
			<block_cnr        			type="int"    rang="[1,6]"        default="1"     length="1">0</block_cnr>
			<block_cnr_weights          type="double"   rang="[0,-)"      default="1.0 1.0 1.0"     length="3">1.0 1.0 1.0</block_cnr_weights>

			<hdr_obc       		  		type="double" rang="[0.0,10.0]"   default="1.2"   length="1">1.5</hdr_obc>
			<hdr_obc_thres       		type="double" rang="[0.0,1.0]"    default="0.2"   length="1">0.8</hdr_obc_thres>
			<hdr_irr_obc_thres      	type="double" rang="[0.0,1.0]"    default="0.2"   length="1">0.2</hdr_irr_obc_thres>
			<deghost_over_exposure_rate_thres       type="double" rang="[0.0,1.0]"    default="0.006"   length="1">0.0008</deghost_over_exposure_rate_thres>

			<lce       		  			type="double" rang="[0.0,1024]"   default="0"     length="1">300</lce>
			<low_freq_lce              	type="double" rang="[0.0,2048]"   default="1"     length="1">800</low_freq_lce>
			<high_freq_lce              type="double" rang="[0.0,100]"    default="2"     length="1">1.0</high_freq_lce>  
            
            <contrast                   type="double" rang="[0.0,1.0]"    default="0"     length="1">0</contrast>
			<lb_contrast      			type="int"    rang="[0, 1.0]"     default="0"     length="1">0.006</lb_contrast>
			<hb_contrast      			type="int"    rang="[0, 1.0]"     default="0"     length="1">0.004</hb_contrast>
			<face_lb_contrast    		type="int"    rang="[0, 1.0]"     default="0"     length="1">0</face_lb_contrast>
			<face_hb_contrast      		type="int"    rang="[0, 1.0]"     default="0"     length="1">0</face_hb_contrast>

			<do_unsharp       			type="int"    rang="[0, 4095]"    default="900"   length="1">0</do_unsharp>
			<do_unsharp_nr_level        type="double"  rang="[0.0,100.0]" default="0"     length="1">0</do_unsharp_nr_level>
			<unsharp_sigma_width    	type="double" rang="[0.0,10.0]"   default="0.9"   length="1">0.9</unsharp_sigma_width>
			<unsharp_sigma_narrow   	type="double" rang="[0.0,10.0]"   default="0.4"   length="1">0.4</unsharp_sigma_narrow>

			<lb_exposure      			type="int"    rang="[0.0,255.0]"  default="0"     length="1">110</lb_exposure>
			<hb_exposure      			type="int"    rang="[0.0,255.0]"  default="0"     length="1">170</hb_exposure>
			<face_lb_exposure      		type="double" rang="[0.0,255.0]"  default="10"    length="1">170</face_lb_exposure>
            <face_hb_exposure      		type="double" rang="[0.0,255.0]"  default="130"   length="1">225</face_hb_exposure>
			<enable_face_ev             type="int"    rang="[0, 1]"       default="0"     length="1">1</enable_face_ev>
			<internal_shrink_ratio type="double" rang="[1.0,1.5]" default="1.5" length="1">1.0</internal_shrink_ratio>
			<enable_shrink_face_protection>1</enable_shrink_face_protection>
		</iso>

		<iso value="499">
			<y_nr_level       			type="float"  rang="[0.0,100.0]"  default="10.0"  length="1">0</y_nr_level>
			<y_nr_tables       			type="float"  rang="[0.0,100.0]"  default="10.0"  length="44">
			        0 50   0  0   0    0 0 0 0 0 0     
                    0 64   0  0   0    0 0 0 0 0 0       
                    0 64   0  0   0    0 0 0 0 0 0  
					0 0    0  0   0     0 0 0 0 0 0 
			</y_nr_tables>	
			<c_nr_level       			type="float"  rang="[0.0,10.0]"   default="1.0"   length="1">0</c_nr_level>
			<c_nr_times       			type="int"    rang="[1,6]"        default="1"     length="1">0</c_nr_times>
			<block_cnr        			type="int"    rang="[1,6]"        default="1"     length="1">0</block_cnr>
			<block_cnr_weights          type="double"   rang="[0,-)"      default="1.0 1.0 1.0"     length="3">1.5 1.5 1.5</block_cnr_weights>

			<hdr_obc       		  		type="double" rang="[0.0,10.0]"   default="1.2"   length="1">2.5</hdr_obc>
			<hdr_obc_thres       		type="double" rang="[0.0,1.0]"    default="0.2"   length="1">0.8</hdr_obc_thres>
			<hdr_irr_obc_thres      	type="double" rang="[0.0,1.0]"    default="0.2"   length="1">0.2</hdr_irr_obc_thres>
			<deghost_over_exposure_rate_thres       type="double" rang="[0.0,1.0]"    default="0.006"   length="1">0.0008</deghost_over_exposure_rate_thres>

			<lce       		  			type="double" rang="[0.0,1024]"   default="0"     length="1">300</lce>
			<low_freq_lce              	type="double" rang="[0.0,2048]"   default="1"     length="1">800</low_freq_lce>
			<high_freq_lce              type="double" rang="[0.0,100]"    default="2"     length="1">1.0</high_freq_lce>  
            
            <contrast                   type="double" rang="[0.0,1.0]"    default="0"     length="1">0</contrast>
			<lb_contrast      			type="int"    rang="[0, 1.0]"     default="0"     length="1">0.006</lb_contrast>
			<hb_contrast      			type="int"    rang="[0, 1.0]"     default="0"     length="1">0.004</hb_contrast>
			<face_lb_contrast    		type="int"    rang="[0, 1.0]"     default="0"     length="1">0.006</face_lb_contrast>
			<face_hb_contrast      		type="int"    rang="[0, 1.0]"     default="0"     length="1">0.002</face_hb_contrast>

			<do_unsharp       			type="int"    rang="[0, 4095]"    default="900"   length="1">0</do_unsharp>
			<do_unsharp_nr_level        type="double"  rang="[0.0,100.0]" default="0"     length="1">0</do_unsharp_nr_level>
			<unsharp_sigma_width    	type="double" rang="[0.0,10.0]"   default="0.9"   length="1">0.9</unsharp_sigma_width>
			<unsharp_sigma_narrow   	type="double" rang="[0.0,10.0]"   default="0.4"   length="1">0.4</unsharp_sigma_narrow>

			<lb_exposure      			type="int"    rang="[0.0,255.0]"  default="0"     length="1">120</lb_exposure>
			<hb_exposure      			type="int"    rang="[0.0,255.0]"  default="0"     length="1">170</hb_exposure>
			<face_lb_exposure      		type="double" rang="[0.0,255.0]"  default="10"    length="1">180</face_lb_exposure>
            <face_hb_exposure      		type="double" rang="[0.0,255.0]"  default="130"   length="1">230</face_hb_exposure>
			<enable_face_ev             type="int"    rang="[0, 1]"       default="0"     length="1">1</enable_face_ev>
			<internal_shrink_ratio type="double" rang="[1.0,1.5]" default="1.5" length="1">1.0</internal_shrink_ratio>
			<enable_shrink_face_protection>1</enable_shrink_face_protection>
		</iso>
		
		<iso value="799">
			<y_nr_level       			type="float"  rang="[0.0,100.0]"  default="10.0"  length="1">0.0</y_nr_level>
			<y_nr_tables       			type="float"  rang="[0.0,100.0]"  default="10.0"  length="44">
			        0 50   0  0   0    0 0 0 0 0 0     
                    0 256   0  0   0    0 0 0 0 0 0       
                    0 256   0  0   0    0 0 0 0 0 0  
					0 256    0  0   0     0 0 0 0 0 0 
			</y_nr_tables>	
			<c_nr_level       			type="float"  rang="[0.0,10.0]"   default="1.0"   length="1">0</c_nr_level>
			<c_nr_times       			type="int"    rang="[1,6]"        default="1"     length="1">0</c_nr_times>
			<block_cnr        			type="int"    rang="[1,6]"        default="1"     length="1">0</block_cnr>
			<block_cnr_weights          type="double"   rang="[0,-)"      default="1.0 1.0 1.0"     length="3">1.5 1.5 1.5</block_cnr_weights>

			<hdr_obc       		  		type="double" rang="[0.0,10.0]"   default="1.2"   length="1">2.5</hdr_obc>
			<hdr_obc_thres       		type="double" rang="[0.0,1.0]"    default="0.2"   length="1">0.8</hdr_obc_thres>
			<hdr_irr_obc_thres      	type="double" rang="[0.0,1.0]"    default="0.2"   length="1">0.2</hdr_irr_obc_thres>
			<deghost_over_exposure_rate_thres       type="double" rang="[0.0,1.0]"    default="0.006"   length="1">0.0008</deghost_over_exposure_rate_thres>


			<lce       		  			type="double" rang="[0.0,1024]"   default="0"     length="1">300</lce>
			<low_freq_lce              	type="double" rang="[0.0,2048]"   default="1"     length="1">800</low_freq_lce>
			<high_freq_lce              type="double" rang="[0.0,100]"    default="2"     length="1">0.0</high_freq_lce>  
            
            <contrast                   type="double" rang="[0.0,1.0]"    default="0"     length="1">0</contrast>
			<lb_contrast      			type="int"    rang="[0, 1.0]"     default="0"     length="1">0.003</lb_contrast>
			<hb_contrast      			type="int"    rang="[0, 1.0]"     default="0"     length="1">0.003</hb_contrast>
			<face_lb_contrast    		type="int"    rang="[0, 1.0]"     default="0"     length="1">0.002</face_lb_contrast>
			<face_hb_contrast      		type="int"    rang="[0, 1.0]"     default="0"     length="1">0.002</face_hb_contrast>

			<do_unsharp       			type="int"    rang="[0, 4095]"    default="900"   length="1">0</do_unsharp>
			<do_unsharp_nr_level        type="double"  rang="[0.0,100.0]" default="0"     length="1">0</do_unsharp_nr_level>
			<unsharp_sigma_width    	type="double" rang="[0.0,10.0]"   default="0.9"   length="1">0.9</unsharp_sigma_width>
			<unsharp_sigma_narrow   	type="double" rang="[0.0,10.0]"   default="0.4"   length="1">0.4</unsharp_sigma_narrow>

			<lb_exposure      			type="int"    rang="[0.0,255.0]"  default="0"     length="1">160</lb_exposure>
			<hb_exposure      			type="int"    rang="[0.0,255.0]"  default="0"     length="1">230</hb_exposure>
			<face_lb_exposure      		type="double" rang="[0.0,255.0]"  default="10"    length="1">170</face_lb_exposure>
            <face_hb_exposure      		type="double" rang="[0.0,255.0]"  default="130"   length="1">220</face_hb_exposure>
			<enable_face_ev             type="int"    rang="[0, 1]"       default="0"     length="1">1</enable_face_ev>
			<internal_shrink_ratio type="double" rang="[1.0,1.5]" default="1.5" length="1">1.0</internal_shrink_ratio>
			<enable_shrink_face_protection>1</enable_shrink_face_protection>
		</iso>


		<iso value="999">
			<y_nr_level       			type="float"  rang="[0.0,100.0]"  default="10.0"  length="1">0.0</y_nr_level>
			<y_nr_tables       			type="float"  rang="[0.0,100.0]"  default="10.0"  length="44">
			        0 50   0  0   0    0 0 0 0 0 0     
                    0 256   0  0   0    0 0 0 0 0 0       
                    0 256   0  0   0    0 0 0 0 0 0  
					0 256    0  0   0     0 0 0 0 0 0 
			</y_nr_tables>	
			<c_nr_level       			type="float"  rang="[0.0,10.0]"   default="1.0"   length="1">0</c_nr_level>
			<c_nr_times       			type="int"    rang="[1,6]"        default="1"     length="1">0</c_nr_times>
			<block_cnr        			type="int"    rang="[1,6]"        default="1"     length="1">0</block_cnr>
			<block_cnr_weights          type="double"   rang="[0,-)"      default="1.0 1.0 1.0"     length="3">1.5 1.5 1.5</block_cnr_weights>

			<hdr_obc       		  		type="double" rang="[0.0,10.0]"   default="1.2"   length="1">2.5</hdr_obc>
			<hdr_obc_thres       		type="double" rang="[0.0,1.0]"    default="0.2"   length="1">0.8</hdr_obc_thres>
			<hdr_irr_obc_thres      	type="double" rang="[0.0,1.0]"    default="0.2"   length="1">0.2</hdr_irr_obc_thres>
			<deghost_over_exposure_rate_thres       type="double" rang="[0.0,1.0]"    default="0.006"   length="1">0.0008</deghost_over_exposure_rate_thres>


			<lce       		  			type="double" rang="[0.0,1024]"   default="0"     length="1">300</lce>
			<low_freq_lce              	type="double" rang="[0.0,2048]"   default="1"     length="1">800</low_freq_lce>
			<high_freq_lce              type="double" rang="[0.0,100]"    default="2"     length="1">0.0</high_freq_lce>  
            
            <contrast                   type="double" rang="[0.0,1.0]"    default="0"     length="1">0</contrast>
			<lb_contrast      			type="int"    rang="[0, 1.0]"     default="0"     length="1">0.003</lb_contrast>
			<hb_contrast      			type="int"    rang="[0, 1.0]"     default="0"     length="1">0.003</hb_contrast>
			<face_lb_contrast    		type="int"    rang="[0, 1.0]"     default="0"     length="1">0.006</face_lb_contrast>
			<face_hb_contrast      		type="int"    rang="[0, 1.0]"     default="0"     length="1">0.003</face_hb_contrast>

			<do_unsharp       			type="int"    rang="[0, 4095]"    default="900"   length="1">0</do_unsharp>
			<do_unsharp_nr_level        type="double"  rang="[0.0,100.0]" default="0"     length="1">0</do_unsharp_nr_level>
			<unsharp_sigma_width    	type="double" rang="[0.0,10.0]"   default="0.9"   length="1">0.9</unsharp_sigma_width>
			<unsharp_sigma_narrow   	type="double" rang="[0.0,10.0]"   default="0.4"   length="1">0.4</unsharp_sigma_narrow>

			<lb_exposure      			type="int"    rang="[0.0,255.0]"  default="0"     length="1">140</lb_exposure>
			<hb_exposure      			type="int"    rang="[0.0,255.0]"  default="0"     length="1">200</hb_exposure>
			<face_lb_exposure      		type="double" rang="[0.0,255.0]"  default="10"    length="1">180</face_lb_exposure>
            <face_hb_exposure      		type="double" rang="[0.0,255.0]"  default="130"   length="1">210</face_hb_exposure>
			<enable_face_ev             type="int"    rang="[0, 1]"       default="0"     length="1">1</enable_face_ev>
			<internal_shrink_ratio type="double" rang="[1.0,1.5]" default="1.5" length="1">1.0</internal_shrink_ratio>
			<enable_shrink_face_protection>1</enable_shrink_face_protection>
		</iso>

		<iso value="99999">
			<y_nr_level       			type="float"  rang="[0.0,100.0]"  default="10.0"  length="1">0</y_nr_level>
			<y_nr_tables       			type="float"  rang="[0.0,100.0]"  default="10.0"  length="44">
			        0 50   0  0   0    0 0 0 0 0 0     
                    0 100   0  0   0   0 0 0 0 0 0       
                    0 100   0  0   0   0 0 0 0 0 0  
					0  0    0  0   0   0 0 0 0 0 0 
			</y_nr_tables>	
			<c_nr_level       			type="float"  rang="[0.0,10.0]"   default="1.0"   length="1">0</c_nr_level>
			<c_nr_times       			type="int"    rang="[1,6]"        default="1"     length="1">0</c_nr_times>
			<block_cnr        			type="int"    rang="[1,6]"        default="1"     length="1">0</block_cnr>
			<block_cnr_weights          type="double"   rang="[0,-)"      default="1.0 1.0 1.0"     length="3">1.5 1.5 1.5</block_cnr_weights>

			<hdr_obc       		  		type="double" rang="[0.0,10.0]"   default="1.2"   length="1">2.5</hdr_obc>
			<hdr_obc_thres       		type="double" rang="[0.0,1.0]"    default="0.2"   length="1">0.8</hdr_obc_thres>
			<hdr_irr_obc_thres      	type="double" rang="[0.0,1.0]"    default="0.2"   length="1">0.2</hdr_irr_obc_thres>
			<deghost_over_exposure_rate_thres       type="double" rang="[0.0,1.0]"    default="0.006"   length="1">0.0008</deghost_over_exposure_rate_thres>

			<lce       		  			type="double" rang="[0.0,1024]"   default="0"     length="1">300</lce>
			<low_freq_lce              	type="double" rang="[0.0,2048]"   default="1"     length="1">800</low_freq_lce>
			<high_freq_lce              type="double" rang="[0.0,100]"    default="2"     length="1">1.0</high_freq_lce>  
            
            <contrast                   type="double" rang="[0.0,1.0]"    default="0"     length="1">0</contrast>
			<lb_contrast      			type="int"    rang="[0, 1.0]"     default="0"     length="1">0.003</lb_contrast>
			<hb_contrast      			type="int"    rang="[0, 1.0]"     default="0"     length="1">0.003</hb_contrast>
			<face_lb_contrast    		type="int"    rang="[0, 1.0]"     default="0"     length="1">0.003</face_lb_contrast>
			<face_hb_contrast      		type="int"    rang="[0, 1.0]"     default="0"     length="1">0.003</face_hb_contrast>

			<do_unsharp       			type="int"    rang="[0, 4095]"    default="900"   length="1">0</do_unsharp>
			<do_unsharp_nr_level        type="double"  rang="[0.0,100.0]" default="0"     length="1">0</do_unsharp_nr_level>
			<unsharp_sigma_width    	type="double" rang="[0.0,10.0]"   default="0.9"   length="1">0.9</unsharp_sigma_width>
			<unsharp_sigma_narrow   	type="double" rang="[0.0,10.0]"   default="0.4"   length="1">0.4</unsharp_sigma_narrow>

			<lb_exposure      			type="int"    rang="[0.0,255.0]"  default="0"     length="1">140</lb_exposure>
			<hb_exposure      			type="int"    rang="[0.0,255.0]"  default="0"     length="1">220</hb_exposure>
			<face_lb_exposure      		type="double" rang="[0.0,255.0]"  default="10"    length="1">140</face_lb_exposure>
            <face_hb_exposure      		type="double" rang="[0.0,255.0]"  default="130"   length="1">220</face_hb_exposure>
			<enable_face_ev             type="int"    rang="[0, 1]"       default="0"     length="1">1</enable_face_ev>
			<internal_shrink_ratio type="double" rang="[1.0,1.5]" default="1.5" length="1">1.0</internal_shrink_ratio>
			<enable_shrink_face_protection>1</enable_shrink_face_protection>
		</iso>
    </params>
</image_refiner>

